@model Model.Models.Warehouse.WarehouseModel
@{
    ViewBag.Title = "";
    Layout = "~/Views/Shared/_LayoutWarehouse.cshtml";

    // var message = TempData["Failure1"] ?? string.Empty;
}
@*<style>
        input[type="file"] {
            display: block;
        }

        .imageThumb {
            max-height: 75px;
            border: 2px solid;
            padding: 1px;
            cursor: pointer;
        }

        .pip {
            display: inline-block;
            margin: 10px 10px 0 0;
        }

        .remove {
            display: block;
            background: #444;
            border: 1px solid black;
            color: white;
            text-align: center;
            cursor: pointer;
        }

            .remove:hover {
                background: white;
                color: black;
            }
    </style>*@
<style>
    input[type="file"] {
        display: block;
    }

    .imageThumb {
        max-height: 75px;
        border: 2px solid;
        padding: 1px;
        cursor: pointer;
    }

    .pip {
        display: inline-block;
        margin: 10px 10px 0 0;
    }

    .remove {
        display: block;
        background: #444;
        border: 1px solid black;
        color: white;
        text-align: center;
        cursor: pointer;
    }

        .remove:hover {
            background: white;
            color: black;
        }

    #selectedFiles img {
        max-width: 200px;
        max-height: 200px;
        float: left;
        margin-bottom: 10px;
    }


    .save_button {
        align-content: center;
        margin-top: 10px;
        width: 70%;
        letter-spacing: 2px;
        font-weight: bold;
        text-transform: uppercase;
    }

    .swiper_au {
        width: 100%;
        background: #eee;
        padding-top: 10px;
        padding-bottom: 10px;
    }

        .swiper_au .swiper-wrapper {
        }

            .swiper_au .swiper-wrapper .swiper-slide {
                text-align: center;
                align-content: center;
            }

                .swiper_au .swiper-wrapper .swiper-slide img {
                    max-width: 100%;
                    border: 0px;
                    max-height: 80px;
                }

                .swiper_au .swiper-wrapper .swiper-slide p {
                    margin: 5px auto;
                    width: 80%;
                    max-height: initial;
                    border: 1px solid;
                }

    p.image-p {
        text-align: center;
        font-size: 1.2rem;
        font-weight: 600;
    }

    .bookeswarehouse {
        background: #FFFFFF;
    }

    .openwarehouse {
        background: #FFFFFF;
    }

    .unbookedWarehouse {
        background: #e64848;
    }
</style>


<div class="row">
    <ol class="breadcrumb">
        <li>
            <a href="#">
                <em class="fa fa-home"></em>
            </a>
        </li>
        <li class="active">Service Request</li>
    </ol>
</div>


@*<div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Service Request Form</h1>
        </div>
    </div>*@

<style>

    .containerxb {
        float: left;
    }

    div.typop label {
        font-weight: 500;
        position: relative;
        overflow: hidden;
        margin-bottom: 0.375em;
        border-radius: 5px;
    }

        div.typop label input {
            position: absolute;
            left: -9999px;
        }

            div.typop label input:checked + span.req-lab {
                background-color: #19AFD0;
                color: #FFF;
            }


            div.typop label input:checked + span.com-lab {
                background-color: #e64848;
                color: #FFF;
            }

            div.typop label input:checked + span.enq-lab {
                background-color: #288d17;
                color: #FFF;
            }



            div.typop label input:checked + span:before {
                box-shadow: inset 0 0 0 0.4375em #00005c;
            }

        div.typop label span {
            display: -webkit-box;
            display: flex;
            -webkit-box-align: center;
            align-items: center;
            padding: 0.375em 0.75em 0.375em 0.375em;
            -webkit-transition: 0.25s ease;
            transition: 0.25s ease;
        }

            div.typop label span:hover {
                background-color: #d6d6e5;
            }

            div.typop label span:before {
                display: -webkit-box;
                display: flex;
                flex-shrink: 0;
                content: "";
                background-color: #fff;
                width: 1.5em;
                height: 1.5em;
                border-radius: 50%;
                margin-right: 0.375em;
                -webkit-transition: 0.25s ease;
                transition: 0.25s ease;
                box-shadow: inset 0 0 0 0.125em #00005c;
            }

    label.nqwe {
        display: inline-block;
        float: left;
        margin-top: 5px;
        margin-right: 15px;
        font-size: 1.5rem;
    }

    .wrap {
        float: left;
    }

    .wait {
        cursor: wait;
    }
</style>


<link href="~/css/SeatCSS.css" rel="stylesheet" />
<div class="">


    @if (TempData["Success"] != null)
    {
        <p class="alert alert-success" id="successMessage">@TempData["Success"]</p>

    }

    @if (TempData["Failure"] != null)
    {
        <p class="alert alert-danger" id="failureMessage">@TempData["Failure"]</p>
    }

    <div class="row seat-o-book">
        @using (Html.BeginForm("WarehouseBooking", "Warehouse", FormMethod.Post, new { enctype = "multipart/form-data", @id = "SaveRequest" }))
        {

            <div class="col-md-6">
                <div class="seat-booking-div">
                    <div class="cockpit">
                        <h1>Please select a Warehouse</h1>
                    </div>
                    <div class="plane">

                        <!--  <div class="exit exit--front fuselage">

                        </div>-->
                        @*<input type="button" id="save_value" name="save_value" value="Save" />*@
                        @Html.ValidationSummary(true)

                        <ol class="cabin fuselage">
                            <li class="row row--1">
                                <ol class="seats" type="A">
                                    <li class="seat openwarehouse" id="1A-1A">
                                        <input type="checkbox" id="1A" value="1A" />
                                        <label for="1A">1A</label>
                                    </li>
                                    <li class="seat openwarehouse" id="1B-1B">
                                        <input type="checkbox" id="1B" value="1B" />
                                        <label for="1B">1B</label>
                                    </li>
                                    <li class="seat openwarehouse" id="1C-1C">
                                        <input type="checkbox" id="1C" value="1C" />
                                        <label for="1C">1C</label>
                                    </li>
                                    <li class="seat openwarehouse" id="1D-1D">
                                        <input type="checkbox" id="1D" value="1D" />
                                        <label for="1D">1D</label>
                                    </li>
                                    <li class="seat openwarehouse" id="1E-1E">
                                        <input type="checkbox" id="1E" value="1E" />
                                        <label for="1E">1E</label>
                                    </li>
                                    <li class="seat openwarehouse" id="1F-1F">
                                        <input type="checkbox" id="1F" value="1F" />
                                        <label for="1F">1F</label>
                                    </li>
                                </ol>
                            </li>
                            <li class="row row--2">
                                <ol class="seats" type="A">
                                    <li class="seat openwarehouse" id="2A-2A">
                                        <input type="checkbox" id="2A" value="2A" />
                                        <label for="2A">2A</label>
                                    </li>
                                    <li class="seat openwarehouse" id="2B-2B">
                                        <input type="checkbox" id="2B" value="2B" />
                                        <label for="2B">2B</label>
                                    </li>
                                    <li class="seat openwarehouse" id="2C-2C">
                                        <input type="checkbox" id="2C" value="2C" />
                                        <label for="2C">2C</label>
                                    </li>
                                    <li class="seat openwarehouse" id="2D-2D">
                                        <input type="checkbox" id="2D" value="2D" />
                                        <label for="2D">2D</label>
                                    </li>
                                    <li class="seat openwarehouse" id="2E-2E">
                                        <input type="checkbox" id="2E" value="2E" />
                                        <label for="2E">2E</label>
                                    </li>
                                    <li class="seat openwarehouse" id="2F-2F">
                                        <input type="checkbox" id="2F" value="2F" />
                                        <label for="2F">2F</label>
                                    </li>
                                </ol>
                            </li>
                            <li class="row row--3">
                                <ol class="seats" type="A">
                                    <li class="seat openwarehouse" id="3A-3A">
                                        <input type="checkbox" id="3A" value="3A" />
                                        <label for="3A">3A</label>
                                    </li>
                                    <li class="seat openwarehouse" id="3B-3B">
                                        <input type="checkbox" id="3B" value="3B" />
                                        <label for="3B">3B</label>
                                    </li>
                                    <li class="seat openwarehouse" id="3C-3C">
                                        <input type="checkbox" id="3C" value="3C" />
                                        <label for="3C">3C</label>
                                    </li>
                                    <li class="seat openwarehouse" id="3D-3D">
                                        <input type="checkbox" id="3D" value="3D" />
                                        <label for="3D">3D</label>
                                    </li>
                                    <li class="seat openwarehouse" id="3E-3E">
                                        <input type="checkbox" id="3E" value="3E" />
                                        <label for="3E">3E</label>
                                    </li>
                                    <li class="seat openwarehouse" id="3F-3F">
                                        <input type="checkbox" id="3F" value="3F" />
                                        <label for="3F">3F</label>
                                    </li>
                                </ol>
                            </li>
                            <li class="row row--4">
                                <ol class="seats" type="A">
                                    <li class="seat openwarehouse" id="4A-4A">
                                        <input type="checkbox" id="4A" value="4A" />
                                        <label for="4A">4A</label>
                                    </li>
                                    <li class="seat openwarehouse" id="4B-4B">
                                        <input type="checkbox" id="4B" value="4B" />
                                        <label for="4B">4B</label>
                                    </li>
                                    <li class="seat openwarehouse" id="4C-4C">
                                        <input type="checkbox" id="4C" value="4C" />
                                        <label for="4C">4C</label>
                                    </li>
                                    <li class="seat openwarehouse" id="4D-4D">
                                        <input type="checkbox" id="4D" value="4D" />
                                        <label for="4D">4D</label>
                                    </li>
                                    <li class="seat openwarehouse" id="4E-4E">
                                        <input type="checkbox" id="4E" value="4E" />
                                        <label for="4E">4E</label>
                                    </li>
                                    <li class="seat openwarehouse" id="4F-4F">
                                        <input type="checkbox" id="4F" value="4F" />
                                        <label for="4F">4F</label>
                                    </li>
                                </ol>
                            </li>
                            <li class="row row--5">
                                <ol class="seats" type="A">
                                    <li class="seat openwarehouse" id="5A-5A">
                                        <input type="checkbox" id="5A" value="5A" />
                                        <label for="5A">5A</label>
                                    </li>
                                    <li class="seat openwarehouse" id="5B-5B">
                                        <input type="checkbox" id="5B" value="5B" />
                                        <label for="5B">5B</label>
                                    </li>
                                    <li class="seat openwarehouse" id="5C-5C">
                                        <input type="checkbox" id="5C" value="5C" />
                                        <label for="5C">5C</label>
                                    </li>
                                    <li class="seat openwarehouse" id="5D-5D">
                                        <input type="checkbox" id="5D" value="5D" />
                                        <label for="5D">5D</label>
                                    </li>
                                    <li class="seat openwarehouse" id="5E-5E">
                                        <input type="checkbox" id="5E" value="5E" />
                                        <label for="5E">5E</label>
                                    </li>
                                    <li class="seat openwarehouse" id="5F-5F">
                                        <input type="checkbox" id="5F" value="5F" />
                                        <label for="5F">5F</label>
                                    </li>
                                </ol>
                            </li>
                            <li class="row row--6">
                                <ol class="seats" type="A">
                                    <li class="seat openwarehouse" id="6A-6A">
                                        <input type="checkbox" id="6A" value="6A" />
                                        <label for="6A">6A</label>
                                    </li>
                                    <li class="seat openwarehouse" id="6B-6B">
                                        <input type="checkbox" id="6B" value="6B" />
                                        <label for="6B">6B</label>
                                    </li>
                                    <li class="seat openwarehouse" id="6C-6C">
                                        <input type="checkbox" id="6C" value="6C" />
                                        <label for="6C">6C</label>
                                    </li>
                                    <li class="seat openwarehouse" id="6D-6D">
                                        <input type="checkbox" id="6D" value="6D" />
                                        <label for="6D">6D</label>
                                    </li>
                                    <li class="seat openwarehouse" id="6E-6E">
                                        <input type="checkbox" id="6E" value="6E" />
                                        <label for="6E">6E</label>
                                    </li>
                                    <li class="seat openwarehouse" id="6F-6F">
                                        <input type="checkbox" id="6F" value="6F" />
                                        <label for="6F">6F</label>
                                    </li>
                                </ol>
                            </li>
                            <li class="row row--7">
                                <ol class="seats" type="A">
                                    <li class="seat openwarehouse" id="7A-7A">
                                        <input type="checkbox" id="7A" value="7A" />
                                        <label for="7A">7A</label>
                                    </li>
                                    <li class="seat openwarehouse" id="7B-7B">
                                        <input type="checkbox" id="7B" value="7B" />
                                        <label for="7B">7B</label>
                                    </li>
                                    <li class="seat openwarehouse" id="7C-7C">
                                        <input type="checkbox" id="7C" value="7C" />
                                        <label for="7C">7C</label>
                                    </li>
                                    <li class="seat openwarehouse" id="7D-7D">
                                        <input type="checkbox" id="7D" value="7D" />
                                        <label for="7D">7D</label>
                                    </li>
                                    <li class="seat openwarehouse" id="7E-7E">
                                        <input type="checkbox" id="7E" value="7E" />
                                        <label for="7E">7E</label>
                                    </li>
                                    <li class="seat openwarehouse" id="7F-7F">
                                        <input type="checkbox" id="7F" value="7F" />
                                        <label for="7F">7F</label>
                                    </li>
                                </ol>
                            </li>
                            <li class="row row--8">
                                <ol class="seats" type="A">
                                    <li class="seat openwarehouse" id="8A-8A">
                                        <input type="checkbox" id="8A" value="8A" />
                                        <label for="8A">8A</label>
                                    </li>
                                    <li class="seat openwarehouse" id="8B-8B">
                                        <input type="checkbox" id="8B" value="8B" />
                                        <label for="8B">8B</label>
                                    </li>
                                    <li class="seat openwarehouse" id="8C-8C">
                                        <input type="checkbox" id="8C" value="8C" />
                                        <label for="8C">8C</label>
                                    </li>
                                    <li class="seat openwarehouse" id="8D-8D">
                                        <input type="checkbox" id="8D" value="8D" />
                                        <label for="8D">8D</label>
                                    </li>
                                    <li class="seat openwarehouse" id="8E-8E">
                                        <input type="checkbox" id="8E" value="8E" />
                                        <label for="8E">8E</label>
                                    </li>
                                    <li class="seat openwarehouse" id="8F-8F">
                                        <input type="checkbox" id="8F" value="8F" />
                                        <label for="8F">8F</label>
                                    </li>
                                </ol>
                            </li>
                            <li class="row row--9">
                                <ol class="seats" type="A">
                                    <li class="seat openwarehouse" id="9A-9A">
                                        <input type="checkbox" id="9A" value="9A" />
                                        <label for="9A">9A</label>
                                    </li>
                                    <li class="seat openwarehouse" id="9B-9B">
                                        <input type="checkbox" id="9B" value="9B" />
                                        <label for="9B">9B</label>
                                    </li>
                                    <li class="seat openwarehouse" id="9C-9C">
                                        <input type="checkbox" id="9C" value="9C" />
                                        <label for="9C">9C</label>
                                    </li>
                                    <li class="seat openwarehouse" id="9D-9D">
                                        <input type="checkbox" id="9D" value="9D" />
                                        <label for="9D">9D</label>
                                    </li>
                                    <li class="seat openwarehouse" id="9E-9E">
                                        <input type="checkbox" id="9E" value="9E" />
                                        <label for="9E">9E</label>
                                    </li>
                                    <li class="seat openwarehouse" id="9F-9F">
                                        <input type="checkbox" id="9F" value="9F" />
                                        <label for="9F">9F</label>
                                    </li>
                                </ol>
                            </li>
                            <li class="row row--10">
                                <ol class="seats" type="A">
                                    <li class="seat openwarehouse" id="10A-10A">
                                        <input type="checkbox" id="10A" value="10A" />
                                        <label for="10A">10A</label>
                                    </li>
                                    <li class="seat openwarehouse" id="56-56">
                                        <input type="checkbox" id="10B" value="10B" />
                                        <label for="10B">10B</label>
                                    </li>
                                    <li class="seat openwarehouse" id="10C-10C">
                                        <input type="checkbox" id="10C" value="10C" />
                                        <label for="10C">10C</label>
                                    </li>
                                    <li class="seat openwarehouse" id="10D-10D">
                                        <input type="checkbox" id="10D" value="10D" />
                                        <label for="10D">10D</label>
                                    </li>
                                    <li class="seat openwarehouse" id="10E-10E">
                                        <input type="checkbox" id="10E" value="10E" />
                                        <label for="10E">10E</label>
                                    </li>
                                    <li class="seat openwarehouse" id="10F-10F">
                                        <input type="checkbox" id="10F" value="10F" />
                                        <label for="10F">10F</label>
                                    </li>
                                </ol>
                            </li>
                        </ol>
                        @Html.ValidationMessageFor(model => model.WarehouseId, "", new { @class = "text-danger", @id = "validWarehouse" })
                    </div>
                </div>
            </div>


            <div class="col-md-6">
                <div class="panel panel-default articles">
                    <div class="panel-body">
                        <form action="#">
                            <div class="row">

                                <div class="clear"><br /></div>
                                <div class="col-md-6">
                                    <div class="form-group form-group-lg lfzab">
                                        <label for="firstname" class="control-label lfz">Enterprise</label>
                                        @Html.HiddenFor(m => m.BookingId, new { @id = "RequestId" })
                                        @Html.HiddenFor(m => m.WarehouseId, new { @id = "WarehouseId_" })
                                        @Html.HiddenFor(m => m.EnterpriseId)
                                        @Html.DropDownListFor(m => m.EnterpriseId, (SelectList)ViewBag.org, new { @class = "form-control form-control-lg", @id = "EnterpriseID", autofocus = "autofocus", @readonly = "readonly" })
                                        @Html.ValidationMessageFor(model => model.CategoryId, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group form-group-lg lfzab">
                                        <label for="firstname" class="control-label  lfz">Category</label>
                                        @Html.DropDownListFor(m => m.CategoryId, (SelectList)ViewBag.WarehouseCategory, new { @class = "form-control form-control-lg", @id = "CategoryId", autofocus = "autofocus", @readonly = "readonly" })
                                     
                                        @Html.ValidationMessageFor(model => model.CategoryId, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group form-group-lg lfzab">
                                        <label for="lastname" class="control-label  lfz">Required From</label>
                                        @Html.TextBoxFor(m => m.RequiredFrom, new { @class = "form-control", @id = "ContactPersonName", @required = "required", autofocus = "autofocus", @maxlength = "100", @type = "Date" })
                                        @Html.ValidationMessageFor(model => model.RequiredFrom, "", new { @class = "text-danger" })
                                        @*<input type="text" class="form-control" id="Name" placeholder="Contact Person Name">*@
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group form-group-lg lfzab">
                                        <label for="lastname" class="control-label  lfz">Required Till</label>
                                        @Html.TextBoxFor(m => m.ReqioredTill, new { @class = "form-control", @id = "MobileNo", @required = "required", autofocus = "autofocus", @maxlength = "100", @onkeypress = "NumOnlyVal(event)", @type = "Date" })
                                        @Html.ValidationMessageFor(model => model.ReqioredTill, "", new { @class = "text-danger" })
                                        @*<input type="text" class="form-control" id="mobnum" placeholder="Mobile Number">*@
                                    </div>
                                </div>


                                <div class="col-md-12">
                                    <div class="form-group form-group-lg lfzab">
                                        <label for="firstname" class="control-label  lfz">Description for Warehouse Booking</label>
                                        @Html.TextAreaFor(m => m.WarehouseDescription, new { @class = "form-control", @required = "required", @maxlength = "500", @id = "RequestDescription" })
                                        @Html.ValidationMessageFor(model => model.WarehouseDescription, "", new { @class = "text-danger" })
                                        @*<textarea class="form-control"></textarea>*@
                                    </div>
                                </div>


                                <div class="col-md-6">
                                    <div class="form-group form-group-lg lfzab">
                                        <label for="firstname" class="control-label  lfz">Storage Type</label>

                                        @Html.DropDownListFor(m => m.StorageTypeId, (SelectList)ViewBag.WarehouseStorage, new { @class = "form-control form-control-lg", @id = "StorageType", autofocus = "autofocus", @readonly = "readonly" })
                                        @Html.ValidationMessageFor(model => model.StorageTypeId, "", new { @class = "text-danger" })
                                    </div>

                                </div>
                                <div class="col-md-6">
                                    <div class="form-group form-group-lg lfzab">
                                        <label for="firstname" class="control-label  lfz">Storage Area</label>
                                        @Html.TextBoxFor(m => m.StorageArea, new { @class = "form-control", @id = "RequiredSize", @required = "required", autofocus = "autofocus", @maxlength = "100" })
                                        @Html.ValidationMessageFor(model => model.StorageArea, "", new { @class = "text-danger" })

                                    </div>
                                </div>


                                <div class="col-md-6">
                                    <div class="form-group form-group-lg lfzab">
                                        <label for="firstname" class="control-label  lfz">Size Required</label>
                                        @Html.TextBoxFor(m => m.RequiredSize, new { @class = "form-control", @id = "RequiredSize", @required = "required", autofocus = "autofocus", @maxlength = "100" })
                                        @Html.ValidationMessageFor(model => model.RequiredSize, "", new { @class = "text-danger" })

                                    </div>
                                </div>




                                <br><br>
                                <div class="row">
                                    <div class="col-xs-12 text-right">
                                        @*<button type="submit" class="btn btn-default">Submit Another Request</button>*@

                                        <button type="submit" class="save btn btn-primary update" id="save_value" name="Save">Submit</button>
                                    </div>
                                </div>

                        </form>
                    </div>
                </div>
            </div>
        }
    </div>

</div>
<script>

    $('#save_value').click(function () {
        var val = [];
        $(':checkbox:checked').each(function (i) {
            val[i] = $(this).val();
        });
        var strArr = val.map(function (e) { return e.toString() });
        //if (strArr = "") {

        //    $('#validWarehouse').val("Please select warehouse.")
        //    return false;
        //}

        $("#WarehouseId_").val(strArr);
    });

</script>
<input type="text" value="@Model.WarehouseId" id="warehouseData" hidden />
<input type="text" value="@ViewBag.UnbookedWarehouseIds" id="UnbookedWarehouseIds" hidden />

<script type="text/javascript">
    window.onload = function () {

        var array = $('#UnbookedWarehouseIds').val().split(",");
        if (array != "") {
            $.each(array, function (i) {
                document.getElementById(array[i]).disabled = false;
                document.getElementById(array[i] + '-' + array[i]).classList.remove('openwarehouse');
                document.getElementById(array[i] + '-' + array[i]).classList.add('unbookedWarehouse');
            });
        }
        var array1 = $('#warehouseData').val().split(",");
        $.each(array1, function (i) {
            document.getElementById(array1[i]).disabled = true;
            document.getElementById(array1[i] + '-' + array1[i]).classList.remove('openwarehouse');
            document.getElementById(array1[i] + '-' + array1[i]).classList.add('bookeswarehouse');
        });


    }
</script>